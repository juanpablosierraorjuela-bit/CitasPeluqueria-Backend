<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel de Control | {{ peluqueria.nombre_visible }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root { --primary: #0f172a; --accent: #db2777; --bg: #f1f5f9; }
        body { margin: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg); display: flex; min-height: 100vh; }
        
        /* Sidebar */
        .sidebar { width: 250px; background: white; padding: 20px; display: flex; flex-direction: column; position: fixed; height: 100%; border-right: 1px solid #e2e8f0; }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--accent); margin-bottom: 40px; display: block; text-decoration: none; }
        
        .nav-link { 
            display: block; padding: 12px 15px; margin-bottom: 5px; color: #64748b; 
            text-decoration: none; border-radius: 10px; font-weight: 600; transition: 0.2s; 
        }
        .nav-link:hover, .nav-link.active { background: #f1f5f9; color: var(--primary); }
        .nav-link.logout { margin-top: auto; color: #ef4444; }
        .nav-link.logout:hover { background: #fef2f2; }

        /* Content */
        .main { margin-left: 250px; flex: 1; padding: 40px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        h1 { margin: 0; font-size: 1.8rem; color: var(--primary); }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .card { background: white; padding: 25px; border-radius: 16px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }
        .card h3 { margin-top: 0; color: #64748b; font-size: 0.9rem; text-transform: uppercase; }
        .big-number { font-size: 2.5rem; font-weight: 800; color: var(--primary); }

        .btn-action { 
            display: inline-block; background: var(--primary); color: white; padding: 10px 20px; 
            border-radius: 30px; text-decoration: none; font-weight: bold; margin-top: 15px; font-size: 0.9rem;
        }

        @media(max-width: 768px) {
            .sidebar { display: none; } /* En m√≥vil simplificamos (puedes agregar men√∫ hamburguesa luego) */
            .main { margin-left: 0; padding: 20px; }
        }
    </style>
</head>
<body>

    <nav class="sidebar">
        <a href="#" class="logo">PASO Manager</a>
        <a href="{% url 'panel_negocio' %}" class="nav-link active">üìä Resumen</a>
        <a href="{% url 'gestionar_servicios' %}" class="nav-link">‚úÇÔ∏è Servicios</a>
        <a href="{% url 'gestionar_equipo' %}" class="nav-link">üë• Mi Equipo</a>
        <a href="{% url 'config_negocio' %}" class="nav-link">‚öôÔ∏è Configuraci√≥n</a>
        <a href="{% url 'logout_usuario' %}" class="nav-link logout">Cerrar Sesi√≥n</a>
    </nav>

    <main class="main">
        <div class="header">
            <div>
                <h1>Hola, {{ request.user.first_name }}</h1>
                <p style="color:#64748b;">Administrando: <strong>{{ peluqueria.nombre_visible }}</strong></p>
            </div>
            <a href="{% url 'agendar_cita' peluqueria.slug %}" target="_blank" class="btn-action" style="background:var(--accent);">
                Ver mi P√°gina Web üîó
            </a>
        </div>

        <div class="grid">
            <div class="card">
                <h3>Citas Hoy</h3>
                <div class="big-number">{{ citas_hoy }}</div>
            </div>
            <div class="card">
                <h3>Equipo Activo</h3>
                <div class="big-number">{{ empleados.count }}</div>
                <a href="{% url 'gestionar_equipo' %}" style="font-size:0.85rem; color:var(--accent); text-decoration:none;">Gestionar ‚Üí</a>
            </div>
            <div class="card">
                <h3>Servicios</h3>
                <div class="big-number">{{ servicios.count }}</div>
                <a href="{% url 'gestionar_servicios' %}" style="font-size:0.85rem; color:var(--accent); text-decoration:none;">Editar Men√∫ ‚Üí</a>
            </div>
        </div>

        <div style="margin-top: 40px;">
            <h2>Acciones R√°pidas</h2>
            <div style="display:flex; gap:15px; flex-wrap:wrap;">
                <a href="{% url 'config_negocio' %}" class="card" style="text-decoration:none; color:inherit; flex:1; min-width:200px; display:flex; align-items:center; gap:15px;">
                    <span style="font-size:2rem;">üí≥</span>
                    <div>
                        <strong>Conectar Bold/Pagos</strong><br>
                        <span style="font-size:0.8rem; color:#64748b;">Configurar llaves de API</span>
                    </div>
                </a>
                <a href="{% url 'config_negocio' %}" class="card" style="text-decoration:none; color:inherit; flex:1; min-width:200px; display:flex; align-items:center; gap:15px;">
                    <span style="font-size:2rem;">ü§ñ</span>
                    <div>
                        <strong>Bot de Telegram</strong><br>
                        <span style="font-size:0.8rem; color:#64748b;">Recibir notificaciones</span>
                    </div>
                </a>
            </div>
        </div>

    </main>

</body>
</html>
